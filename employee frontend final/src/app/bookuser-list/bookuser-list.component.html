<div class="container mt-4">
  <h2 class="text-center mb-4 text-primary font-weight-bold text-uppercase" style="font-size: 2.5rem; letter-spacing: 2px; position: relative; ">
    <span class="left-dash"></span> Liste des Livres <span class="right-dash"></span>
  </h2>



  <hr class="mb-4">

  <section class="testimonials-section" id="testimonials">
    <div class="container">
      <h2 class="section-title text-center text-secondary mb-4">Ce que disent nos lecteurs</h2>
      <hr class="mb-4">

      <div class="row">
        <div class="col-md-4">
          <div class="testimonial-card card shadow-sm rounded p-3">
            <div class="testimonial-header d-flex align-items-center">
              <img src="../../assets/download.jpg" alt="Auteur" class="testimonial-img rounded-circle mb-3" style="width: 50px; height: 50px;">
              <div class="ml-3">
                <h5 class="testimonial-author text-primary">Jean Dupont</h5>
                <p class="testimonial-role text-muted"><i class="fas fa-user-tie"></i> Lecteur fidèle</p>
              </div>
            </div>
            <blockquote class="testimonial-text text-muted">
              <i class="fas fa-quote-left"></i> Une expérience incroyable! Les livres sont bien organisés, et l'emprunt est facile et rapide. J'adore cette bibliothèque! <i class="fas fa-quote-right"></i>
            </blockquote>
          </div>
        </div>

        <div class="col-md-4">
          <div class="testimonial-card card shadow-sm rounded p-3">
            <div class="testimonial-header d-flex align-items-center">
              <img src="../../assets/download.jpg" alt="Auteur" class="testimonial-img rounded-circle mb-3" style="width: 50px; height: 50px;">
              <div class="ml-3">
                <h5 class="testimonial-author text-primary">Marie Durand</h5>
                <p class="testimonial-role text-muted"><i class="fas fa-user-tie"></i> Lectrice assidue</p>
              </div>
            </div>
            <blockquote class="testimonial-text text-muted">
              <i class="fas fa-quote-left"></i> Un large choix de livres. L'interface de recherche est super pratique. Je trouve toujours ce que je cherche! <i class="fas fa-quote-right"></i>
            </blockquote>
          </div>
        </div>

        <div class="col-md-4">
          <div class="testimonial-card card shadow-sm rounded p-3">
            <div class="testimonial-header d-flex align-items-center">
              <img src="../../assets/download.jpg" alt="Auteur" class="testimonial-img rounded-circle mb-3" style="width: 50px; height: 50px;">
              <div class="ml-3">
                <h5 class="testimonial-author text-primary">Paul Martin</h5>
                <p class="testimonial-role text-muted"><i class="fas fa-user-tie"></i> Lecteur enthousiaste</p>
              </div>
            </div>
            <blockquote class="testimonial-text text-muted">
              <i class="fas fa-quote-left"></i> J'ai découvert des livres passionnants grâce à ce site. Les recommandations sont parfaites! <i class="fas fa-quote-right"></i>
            </blockquote>
          </div>
        </div>
      </div>
    </div>





  </section>
  <section >
    <ngb-carousel>
      <ng-template ngbSlide>
        <div class="picsum-img-wrapper">
          <img style="width: 100%; height: 610px;" src="../../assets/1_j3Pdbj7Q0Ceifj6nb1ZHLg.jpg" alt="Random first slide" />
        </div>
        <div class="carousel-caption">
          <h3 id="p1">"Les livres sont des amis qui nous rappellent ce que nous avons oublié."</h3>
          <p>- Anonyme</p>
        </div>
      </ng-template>

      <ng-template ngbSlide>
        <div class="picsum-img-wrapper">
          <img style="width: 100%; height: 610px;" src="../../assets/reading_aesthetic_c_shutterstock.jpg" alt="Random second slide" />
        </div>
        <div class="carousel-caption">
          <h3 id="p1">"Un livre est un jardin, un verger, une salle d'amusement, un conseiller, un professeur."</h3>
          <p>- Charles W. Eliot</p>
        </div>
      </ng-template>
    </ngb-carousel>

  </section>


  <br /><br />

  <div class="mb-4 position-relative">
    <h2 class="text-center text-secondary mb-4">Tapez un livre !</h2>
    <hr class="mb-4">
    <div class="input-group">
      <input
        type="text"
        class="form-control pl-5"
        placeholder=""
        [(ngModel)]="searchTerm"
      />
      <span class="input-group-text position-absolute" style="top: 50%; left: 15px; transform: translateY(-50%);">
        <i class="fas fa-search"></i>
      </span>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let book of filteredBooks()">
      <div class="card shadow-lg rounded p-3">
        <!-- Affichage de l'image si elle est disponible -->
        <img *ngIf="book.photo" [src]="getPhotoBase64(book.photo)" class="card-img-top rounded" alt="{{ book.name }}" />

        <!-- Si aucune image n'est disponible, afficher ce message -->
        <p *ngIf="!book.photo" class="card-text text-muted text-center">Aucune image disponible</p>

        <div class="card-body">
          <!-- Titre du livre -->
          <h5 class="card-title text-center text-primary" style="color: #f06f52;">{{ book.name }}</h5>

          <!-- Détails du livre -->
          <p class="card-text">
            <i class="fas fa-book text-info" ></i> <strong>Type:</strong> {{ book.type }}
          </p>
          <p class="card-text">
            <i class="fas fa-user text-info"></i> <strong>Auteur:</strong> {{ book.auteur }}
          </p>
          <p class="card-text">
            <i class="fas fa-tag text-info"></i> <strong>Catégorie:</strong> {{ book.type }}
          </p>
          <p class="card-text">
            <i class="fas fa-building text-info"></i> <strong>Éditeur:</strong> {{ book.editeur }}
          </p>
          <p class="card-text">
            <i class="fas fa-calendar text-info"></i> <strong>Publication:</strong> {{ book.dateDePublication }}
          </p>
          <p class="card-text">
            <i class="fas fa-info-circle text-info"></i> <strong>Description:</strong> {{ book.description }}
          </p>

          <!-- Disponibilité du livre avec surlignage conditionnel du fond -->
          <p class="card-text availability p-2 rounded" [ngClass]="{
            'bg-success text-white': book.availability === 'Oui',
            'bg-danger text-white': book.availability !== 'Oui'
          }">
            <i class="fas fa-check-circle"></i> <strong>Disponible:</strong> {{ book.availability }}
          </p>

          <!-- Bouton Emprunter -->
          <div class="text-center">
            <button [routerLink]="['/emprunt-form']" class="btn btn-primary btn-lg shadow-sm">
              <i class="fas fa-book-reader"></i> Emprunter
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

